{
  "swagger": "2.0",
  "info": {
    "title": "payment/v1/payment.proto",
    "version": "version not set"
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/payment/create": {
      "post": {
        "summary": "Payment",
        "operationId": "CreatePayment",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1CreatePaymentResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreatePaymentRequest"
            }
          }
        ],
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/p/order/create": {
      "post": {
        "summary": "Paypal",
        "operationId": "PaypalCreateOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1PaypalCreateOrderResponse"
            }
          }
        },
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/p/order/process": {
      "post": {
        "operationId": "PaypalProcessOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Response"
            }
          }
        },
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/paypal/webhook/order": {
      "post": {
        "operationId": "PaypalOrderWebhook",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1PaypalWebhook"
            }
          }
        ],
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/paypal/webhook/test": {
      "post": {
        "operationId": "PaypalTestWebhook",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1PaypalWebhook"
            }
          }
        ],
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/refund": {
      "post": {
        "operationId": "Refund",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1RefundResponse"
            }
          }
        },
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/retrieve": {
      "post": {
        "operationId": "RetrievePayment",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1RetrievePaymentResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1RetrievePaymentRequest"
            }
          }
        ],
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/s/card/add": {
      "post": {
        "operationId": "StripeAddCard",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AddCardResponse"
            }
          }
        },
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/s/charge": {
      "post": {
        "operationId": "StripeCharge",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1OnStripeChargeResponse"
            }
          }
        },
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/s/intent/setup": {
      "post": {
        "summary": "Stripe",
        "operationId": "StripeSetupIntent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SetupIntentResponse"
            }
          }
        },
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/stripe/webhook/paymentintent": {
      "post": {
        "operationId": "StripePaymentIntentWebhook",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StripeWebhook"
            }
          }
        ],
        "tags": [
          "PaymentService"
        ]
      }
    },
    "/v1/payment/stripe/webhook/test": {
      "post": {
        "operationId": "StripeTestWebhook",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1StripeWebhook"
            }
          }
        ],
        "tags": [
          "PaymentService"
        ]
      }
    }
  },
  "definitions": {
    "BillingDetailsAddress": {
      "type": "object",
      "properties": {
        "city": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "line1": {
          "type": "string"
        },
        "line2": {
          "type": "string"
        },
        "postal_code": {
          "type": "number",
          "format": "double"
        },
        "state": {
          "type": "string"
        }
      }
    },
    "CardTHREEDSecureUsage": {
      "type": "object",
      "properties": {
        "supported": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "InvoiceSettingsCustomFields": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "ItemsData": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "amount": {
          "type": "number",
          "format": "double"
        },
        "quantity": {
          "type": "string",
          "format": "int64"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        },
        "currency": {
          "type": "string"
        },
        "description": {
          "type": "string"
        }
      }
    },
    "PaymentIntentLastPaymentError": {
      "type": "object",
      "properties": {
        "charge": {
          "type": "string"
        },
        "code": {
          "type": "string"
        },
        "doc_url": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "param": {
          "type": "string"
        },
        "payment_method": {
          "$ref": "#/definitions/v1PaymentMethod"
        }
      }
    },
    "PaymentStripe": {
      "type": "object",
      "properties": {
        "customer": {
          "type": "string"
        },
        "default_payment_method": {
          "type": "string"
        }
      }
    },
    "TransactionTransactionError": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "stripe_error_code": {
          "type": "string"
        }
      }
    },
    "v1AddCardResponse": {
      "type": "object",
      "properties": {
        "all_cards": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1PaymentMethod"
          }
        },
        "invoice_settings": {
          "$ref": "#/definitions/v1InvoiceSettings"
        },
        "success": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "v1ApplicationContext": {
      "type": "object",
      "properties": {
        "landing_page": {
          "type": "string"
        },
        "return_url": {
          "type": "string"
        },
        "cancel_url": {
          "type": "string"
        }
      }
    },
    "v1BillingDetails": {
      "type": "object",
      "properties": {
        "address": {
          "$ref": "#/definitions/BillingDetailsAddress"
        },
        "email": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        }
      }
    },
    "v1Card": {
      "type": "object",
      "properties": {
        "brand": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "exp_month": {
          "type": "number",
          "format": "double"
        },
        "exp_year": {
          "type": "number",
          "format": "double"
        },
        "fingerprint": {
          "type": "string"
        },
        "funding": {
          "type": "string"
        },
        "last4": {
          "type": "number",
          "format": "double"
        },
        "three_d_secure_usage": {
          "$ref": "#/definitions/CardTHREEDSecureUsage"
        }
      }
    },
    "v1Charge": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "object": {
          "type": "string"
        },
        "amount": {
          "type": "number",
          "format": "double"
        },
        "amount_refunded": {
          "type": "number",
          "format": "double"
        },
        "balance_transaction": {
          "type": "string"
        },
        "billing_details": {
          "$ref": "#/definitions/v1BillingDetails"
        },
        "captured": {
          "type": "boolean",
          "format": "boolean"
        },
        "created": {
          "type": "number",
          "format": "double"
        },
        "currency": {
          "type": "string"
        },
        "customer": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "destination": {
          "type": "string"
        },
        "dispute": {
          "type": "string"
        },
        "failure_code": {
          "type": "string"
        },
        "failure_message": {
          "type": "string"
        },
        "fraud_details": {
          "$ref": "#/definitions/v1FraudDetails"
        },
        "paid": {
          "type": "boolean",
          "format": "boolean"
        },
        "payment_intent": {
          "type": "string"
        },
        "payment_method": {
          "type": "string"
        },
        "payment_method_details": {
          "$ref": "#/definitions/v1PaymentMethodDetails"
        },
        "receipt_email": {
          "type": "string"
        },
        "receipt_number": {
          "type": "string"
        },
        "receipt_url": {
          "type": "string"
        },
        "review": {
          "type": "string"
        },
        "status": {
          "type": "string"
        }
      }
    },
    "v1Charges": {
      "type": "object",
      "properties": {
        "object": {
          "type": "string"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Charge"
          }
        },
        "has_more": {
          "type": "boolean",
          "format": "boolean"
        },
        "total_count": {
          "type": "string",
          "format": "int64"
        },
        "url": {
          "type": "string"
        }
      }
    },
    "v1CreatePaymentRequest": {
      "type": "object",
      "properties": {
        "user": {
          "type": "string"
        },
        "email": {
          "type": "string"
        }
      }
    },
    "v1CreatePaymentResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean"
        },
        "payment": {
          "$ref": "#/definitions/v1Payment"
        }
      }
    },
    "v1FraudDetails": {
      "type": "object",
      "properties": {
        "stripe_report": {
          "type": "string"
        },
        "user_report": {
          "type": "string"
        }
      }
    },
    "v1InvoiceSettings": {
      "type": "object",
      "properties": {
        "custom_fields": {
          "$ref": "#/definitions/InvoiceSettingsCustomFields"
        },
        "default_payment_method": {
          "type": "string"
        },
        "footer": {
          "type": "string"
        }
      }
    },
    "v1Items": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        },
        "total_items": {
          "type": "string",
          "format": "int64"
        },
        "shipping": {
          "type": "number",
          "format": "double"
        },
        "tax": {
          "type": "number",
          "format": "double"
        },
        "shipping_discount": {
          "type": "number",
          "format": "double"
        },
        "discount": {
          "type": "number",
          "format": "double"
        },
        "currency": {
          "type": "string"
        },
        "subtotal": {
          "type": "number",
          "format": "double"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ItemsData"
          }
        }
      }
    },
    "v1Metadata": {
      "type": "object",
      "properties": {
        "user": {
          "type": "string"
        },
        "transaction": {
          "type": "string"
        }
      }
    },
    "v1OnStripeChargeResponse": {
      "type": "object",
      "properties": {
        "payment_intent": {
          "$ref": "#/definitions/v1PaymentIntent"
        },
        "success": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "v1Payment": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "object": {
          "type": "string"
        },
        "user": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "default_provider": {
          "type": "string"
        },
        "stripe": {
          "$ref": "#/definitions/PaymentStripe"
        },
        "transactions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1Transaction"
          }
        },
        "updated": {
          "type": "number",
          "format": "double"
        },
        "created": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "v1PaymentIntent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "object": {
          "type": "string"
        },
        "amount": {
          "type": "number",
          "format": "double"
        },
        "canceled_at": {
          "type": "number",
          "format": "double"
        },
        "cancellation_reason": {
          "type": "string"
        },
        "capture_method": {
          "type": "string"
        },
        "charges": {
          "$ref": "#/definitions/v1Charges"
        },
        "client_secret": {
          "type": "string"
        },
        "confirmation_method": {
          "type": "string"
        },
        "created": {
          "type": "number",
          "format": "double"
        },
        "currency": {
          "type": "string"
        },
        "customer": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "invoice": {
          "type": "string"
        },
        "last_payment_error": {
          "$ref": "#/definitions/PaymentIntentLastPaymentError"
        },
        "livemode": {
          "type": "boolean",
          "format": "boolean"
        },
        "metadata": {
          "$ref": "#/definitions/v1Metadata"
        },
        "payment_method": {
          "type": "string"
        },
        "payment_method_types": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "receipt_email": {
          "type": "string"
        },
        "review": {
          "type": "string"
        },
        "status": {
          "type": "string"
        }
      }
    },
    "v1PaymentMethod": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "object": {
          "type": "string"
        },
        "billing_details": {
          "$ref": "#/definitions/v1BillingDetails"
        },
        "card": {
          "$ref": "#/definitions/v1Card"
        },
        "created": {
          "type": "number",
          "format": "double"
        },
        "customer": {
          "type": "string"
        },
        "livemode": {
          "type": "boolean",
          "format": "boolean"
        },
        "metadata": {
          "$ref": "#/definitions/v1Metadata"
        },
        "type": {
          "type": "string"
        }
      }
    },
    "v1PaymentMethodDetails": {
      "type": "object",
      "properties": {
        "card": {
          "$ref": "#/definitions/v1Card"
        },
        "type": {
          "type": "string"
        }
      }
    },
    "v1PaypalCreateOrderResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean"
        },
        "order_id": {
          "type": "string"
        },
        "href": {
          "type": "string"
        },
        "rel": {
          "type": "string"
        },
        "method": {
          "type": "string"
        }
      }
    },
    "v1PaypalWebhook": {
      "type": "object",
      "properties": {
        "body": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "v1Refund": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "object": {
          "type": "string"
        },
        "transaction": {
          "type": "string"
        },
        "amount": {
          "type": "number",
          "format": "double"
        },
        "currency": {
          "type": "string"
        },
        "reason": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "failure_refund": {
          "type": "string"
        },
        "failure_reason": {
          "type": "string"
        },
        "updated": {
          "type": "number",
          "format": "double"
        },
        "created": {
          "type": "number",
          "format": "double"
        },
        "stripe_refund": {
          "type": "string"
        },
        "paypal_refund": {
          "type": "string"
        }
      }
    },
    "v1RefundResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean"
        },
        "refund": {
          "$ref": "#/definitions/v1Refund"
        },
        "transaction": {
          "$ref": "#/definitions/v1Transaction"
        }
      }
    },
    "v1Response": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "v1RetrievePaymentRequest": {
      "type": "object",
      "properties": {
        "user": {
          "type": "string"
        }
      }
    },
    "v1RetrievePaymentResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean"
        },
        "payment": {
          "$ref": "#/definitions/v1Payment"
        }
      }
    },
    "v1SetupIntentResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean"
        },
        "client_secret": {
          "type": "string"
        }
      }
    },
    "v1StripeWebhook": {
      "type": "object",
      "properties": {
        "body": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "v1Transaction": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "object": {
          "type": "string"
        },
        "payment": {
          "type": "string"
        },
        "user": {
          "type": "string"
        },
        "refund": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "provider": {
          "type": "string"
        },
        "paypal_order_id": {
          "type": "string"
        },
        "stripe_payment_intent": {
          "type": "string"
        },
        "currency": {
          "type": "string"
        },
        "items": {
          "$ref": "#/definitions/v1Items"
        },
        "total": {
          "type": "number",
          "format": "double"
        },
        "coupon": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "ip": {
          "type": "string"
        },
        "updated": {
          "type": "number",
          "format": "double"
        },
        "created": {
          "type": "number",
          "format": "double"
        },
        "transitory_expires": {
          "type": "number",
          "format": "double"
        },
        "transaction_error": {
          "$ref": "#/definitions/TransactionTransactionError"
        }
      }
    }
  }
}
